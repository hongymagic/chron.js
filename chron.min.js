/*jslint node: true, indent: 2, browser: true, es5: true, plusplus: true *//**
 * chron.js - a time-based storage interface
 *
 * @requires localStorage
 *
 * Without localStorage support, it will use inline JSON object as storage
 * and will not persist;
 */var chron=function(a){"use strict";var b=function(){try{return!!a.localStorage}catch(b){return!1}}(),c=a.localStorage,d=function(a){return JSON.stringify(a)},e=function(a){return JSON.parse(a)},f=b?e(c.getItem("chron.js")):{},g=function(a){return e(f[a])},h=function(a){var e=+(new Date);return f[e]=d(a),b&&c.setItem("chron.js",d(f)),e},i=function(){f={},b&&c.setItem("chron.js",d(f))},j=function(){var a=Object.keys(f),b=function(a,b){return Number(b)-Number(a)};return a=a.sort(b),a};if("undefined"==typeof f||f===null)f={};return{snap:function(a){return h(a)},list:function(a){a=+a|0;if(a===0)return[];var b=[],c=j(),d,e=a>c.length?c.length:a;for(d=0;d<e;d+=1)b.push(g(c[d]));return b},reset:function(){i()}}}(this);"undefined"!=typeof module&&(module.exports=chron);